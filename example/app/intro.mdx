import { CarouselItem } from "use-carousel";

import rawDemo from "./foo?raw";
import { LiveDemo } from "./LiveEditor";
import { Carousel, Slide } from "./PrettyExample.tsx";
import { css } from "@/styled-system/css";

# useCarousel

<div className={css({ p: "4", mb: "6", bg: "gray.100", borderRadius: "lg" })}>
  <Carousel aspectRatio="16 / 9" spaceBetweenItems="16px">
    <CarouselItem key="0">
      <Slide index={0} />
    </CarouselItem>
    <CarouselItem key="1">
      <Slide index={1} />
    </CarouselItem>
    <CarouselItem key="2">
      <Slide index={2} />
    </CarouselItem>
    <CarouselItem key="3">
      <Slide index={3} />
    </CarouselItem>
    <CarouselItem key="4">
      <Slide index={4} />
    </CarouselItem>
    <CarouselItem key="5">
      <Slide index={5} />
    </CarouselItem>
  </Carousel>
</div>

`useCarousel` is an unstyled React component that provides the behavior and accessibility implementation for building a carousel. Unlike many other carousels, this implementation uses the latest browser and DOM APIs for scrolling and snapping. And because it's a hook, the styling is up to you!

- Comprehensive behavior and accessibility coverage for all elements of a carousel, including pagination, infinite scrolling, autoplay, and more.
- Native browser scroll snapping and animations-no external libraries for animation.
- Design modeled after Adobe's React Stately and React Aria libraries, and uses their [Collection][collection] API.
- Written in TypeScript.

## Features

- Native **browser scroll-snapping and smooth-scrolling** for performant transitions across pointer types.
- Follows the **carousel ARIA pattern**, providing the building blocks for the root container, scrolling container, carousel items, next and previous buttons, and pagination, and semantically links them all together.
- Support for showing **one or many items per page**, implemented with responsive-design.
- Support for **vertical and horizontal** scrolling.
- Support for **infinite scrolling**.
- Support for **autoplay** with affordances for disabling it.
- Support for **mouse dragging**.

## Installation

```sh
npm install the-thing
```

## API

### useCarousel

| Prop              | Description                                                                                                                                          | Default Value  |
| ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- | -------------- |
| autoplay          | If true, the carousel will scroll automatically when the user is not interacting with it.                                                            | `false`        |
| autoplayInterval  | Specifies the amount of time, in milliseconds, between each automatic scroll.                                                                        | `5000`         |
| mouseDragging     | Controls whether the user can scroll by clicking and dragging with their mouse.                                                                      | `false`        |
| scrollPadding     | The amount of padding to apply to the scroll area, allowing adjacent items to become partially visible.                                              |                |
| spaceBetweenItems | The gap between items.                                                                                                                               | `'0px'`        |
| itemsPerPage      | Number of items visible in a page. Can be an integer to show each item with equal dimensions, or a floating point number to "peek" subsequent items. | `1`            |
| loop              | Controls the pagination behavior at the beginning and end.                                                                                           | `false`        |
| orientation       | The carousel scroll direction                                                                                                                        | `'horizontal'` |
| scollBy           | Controls whether scrolling snaps and pagination progresses by item or page.                                                                          | `'page'`       |
| initialPages      | Define the organization of pages on first render. Useful to render navigation during SSR.                                                            | `[]`           |

### useCarouselItem

| Prop | Description                                  | Default Value |
| ---- | -------------------------------------------- | ------------- |
| item | An item in the collection of carousel items. |               |

### useCarouselNavItem

| Prop       | Description                                                   | Default Value |
| ---------- | ------------------------------------------------------------- | ------------- |
| index      | An index of a page in the carousel.                           |               |
| isSelected | Whether the page is the active, visible page of the carousel. |               |

## Example

<LiveDemo code={rawDemo} />

<details>
<summary>Show CSS</summary>

```css
.root {
  display: flex;
  justify-content: center;
  flex-direction: column;
  gap: 16px;
}
.scroller {
  display: grid;
  overflow: auto;
  scroll-snap-type: x mandatory;
  grid-auto-flow: column;
  scrollbar-width: none;
}
.item {
  background-color: rgb(186, 230, 253);
  aspect-ratio: 16 / 9;
  display: flex;
  justify-content: center;
  align-items: center;
}
.item:nth-child(even) {
  background-color: rgb(221, 214, 254);
}
.buttons {
  display: flex;
  justify-content: center;
  gap: 8px;
}
.tabs {
  display: flex;
  justify-content: center;
  gap: 16px;
}
.tab[aria-selected] {
  background-color: darkgrey;
}
```

</details>

[collection]: https://react-spectrum.adobe.com/react-aria/collections.html
